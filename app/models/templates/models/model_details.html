{% from "macros.html" import show_authors, list_dependencies, postprocessing_info, model_args_info, display_schema_inputs, dataloaders_info, dataloaders_args %}
{% extends 'base.html' %}
{% block content %}
    <div class="col-lg-12 col-md-12 col-sm-12">
        <!--Section: model-details content-->
        <section class="model-details">
            <h2 class="">Model Details</h2>

                <div class="jumbotron">
                    <div class="row">
                        <div class="col-lg-7">
                            <!-- Model title -->
                            <h1 class="h1-responsive">{{ model_name }}</h1>
                        </div>
                        <!-- Model details -->
                        <div class="col-lg-5">
                            <div class="row">
                                <div class="col-lg-6 col-md-6 col-sm-6 col-xs-12">
                                    <p>Authors: {{ show_authors(model.info.authors) }}</p>
                                    <p>Version: {{ model.info.version }}</p>
                                    <!-- Not yet defined -->
                                    <!-- <p>Tags: {{ model.info.tags }}</p> -->
                                </div>
                                <div class="col-lg-6 col-md-6 col-xs-12">
                                    <!-- Model name -->
                                    <p>
                                        Name:
                                        {% if model.info.name %}
                                            {{ model.info.name }}
                                        {% endif %}
                                    </p>

                                    <!-- Model type -->
                                    <p>
                                        Type:
                                        <a data-toggle="tooltip" data-placement="top" data-html="true" title="{{ model_args_info(model.args) }}"><span class="badge badge-pill warning-color-dark hoverable" >{{ model.type }}</span></a>
                                    </p>

                                    <!-- Model postprocessing -->
                                    <p>
                                        Postprocessing:
                                        {% if model.postprocessing %}
                                            {% for p in model.postprocessing %}
                                                <a data-toggle="tooltip" data-placement="top" data-html="true" title="{{ postprocessing_info(p) }}"><span class="badge badge-pill primary-color hoverable" >{{ p.type.value }}</span></a>
                                            {% endfor %}
                                        {% else %}
                                            None
                                        {% endif %}
                                    </p>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-lg-7 col-md-12 col-sm-12">
                            <!-- Model description -->
                            <p class="lead">{{ model.info.doc }}</p>    
                        </div>

                        <div class="col-lg-5 col-md-12 col-sm-12">
                            <!-- Model and dataloader dependencies -->
                            {% include 'models/model_dependencies.html' %}
                        </div>
                    </div>
                    
                    <hr class="w-100 clearfix">

                    <div class="row">
                        <div class="col-lg-5 col-md-12">
                            <!-- Model schema -->
                            {% include 'models/model_schema.html' %}
                        </div>
                        <hr class="w-100 clearfix d-lg-none">
                        <div class="col-lg-7 col-md-12">
                            <!-- Dataloader details -->
                            {% include 'models/model_dataloaders.html' %}
                        </div>
                    </div>
                </div>
        </section>
        <!--/Section: model-details content-->                        
    </div>
{% endblock %}

{% block script %}
    <script language="JavaScript">
        $(document).ready(function() {
            $('[data-toggle="tooltip"]').tooltip()
        });
    </script>
{% endblock%}